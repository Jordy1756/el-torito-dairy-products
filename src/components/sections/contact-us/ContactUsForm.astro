---
import Button from "@components/ui/Button.astro";
import InputBox from "@components/ui/InputBox.astro";
import { contactFields } from "@scripts/validations/contactFields";

const { name, lastName, email, subject, message } = contactFields;
---

<article class="contact__form">
    <h4>Ponte en contacto con nosotros</h4>
    <form id="contact-form">
        <InputBox labelFor={name.id} label={name.label}>
            <input
                id={name.id}
                type="text"
                name={name.name}
                placeholder=""
                required
                minlength={name.minLength}
                maxlength={name.maxLength}
                pattern={name.pattern.source}
                autocomplete="name"
                autocapitalize="words"
            />
        </InputBox>
        <InputBox labelFor={lastName.id} label={lastName.label}>
            <input
                id={lastName.id}
                type="text"
                name={lastName.name}
                placeholder=""
                required
                minlength={lastName.minLength}
                maxlength={lastName.maxLength}
                pattern={lastName.pattern.source}
                autocomplete="family-name"
                autocapitalize="words"
            />
        </InputBox>
        <InputBox labelFor={email.id} label={email.label}>
            <input
                id={email.id}
                type="email"
                name={email.name}
                placeholder=""
                required
                minlength={email.minLength}
                maxlength={email.maxLength}
                pattern={email.pattern.source}
                autocomplete="email"
            />
        </InputBox>
        <InputBox labelFor={subject.id} label={subject.label}>
            <input
                id={subject.id}
                type="text"
                name={subject.name}
                placeholder=""
                required
                minlength={subject.minLength}
                maxlength={subject.maxLength}
                pattern={subject.pattern.source}
                autocomplete="off"
            />
        </InputBox>
        <InputBox labelFor={message.id} label={message.label} flex={1}>
            <textarea
                id={message.id}
                name={message.id}
                placeholder=""
                required
                minlength={message.minLength}
                maxlength={message.maxLength}
                autocapitalize="sentences"></textarea>
        </InputBox>
        <Button type="submit" aria-label="Enviar mensaje de contacto"> Enviar Mensaje </Button>
    </form>
</article>

<style>
    .contact__form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        flex: 1 300px;
    }

    .contact__form > h4 {
        font-size: var(--text-size-medium);
        text-align: center;
    }

    .contact__form > form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        flex: 1;
    }
</style>

<script src="../../../scripts/lib/contactForm.ts"></script>
